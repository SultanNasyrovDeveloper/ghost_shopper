{% extends 'base/base_app.html' %}


{% block header-buttons %}
    <input type="submit" form="create-form" value="Создать" class="btn btn-primary">
{% endblock %}


{% block content %}
    <div class="card">
        <div class="card-header"><h3>Создать пользователя</h3></div>
        <div class="card-body">
            <form method="post" id="create-form">
                {% csrf_token %}
                {% if form.is_performer %}
                    {{ form.is_performer }}
                {% elif form.is_customer %}
                    {{ form.is_customer }}
                    {{ form.organisation_id }}
                {% else %}
                    {{ form.is_staff }}
                {% endif %}
                {% if form.non_field_errors %}
                    <span class="text-danger-400">{{ form.non_field_errors.as_text }}</span>
                {% endif %}
                <div class="form-group form-group-feedback form-group-feedback-left">
                    {{ form.username }}
                    <div class="form-control-feedback">
                        <i class="icon-user-check text-muted"></i>
                    </div>
                    {% if form.username.errors %}
                        <span class="form-text text-danger"><i class="icon-cancel-circle2 mr-2"></i> {{ form.username.errors.as_text }}</span>
                    {% endif %}

                </div>
                <div class="form-group form-group-feedback form-group-feedback-left">
                    {{ form.email }}
                    <div class="form-control-feedback">
                        <i class="icon-mention text-muted"></i>
                    </div>
                    {% if form.email.errors %}
                        <span class="form-text text-danger"><i class="icon-cancel-circle2 mr-2"></i> {{ form.email.errors.as_text }}</span>
                    {% endif %}
                </div>

                <div class="form-group form-group-feedback form-group-feedback-left">
                    {{ form.password1 }}
                    <div class="form-control-feedback">
                        <i class="icon-user-lock text-muted"></i>
                    </div>
                    {% if form.password1.errors %}
                        <span class="form-text text-danger"><i class="icon-cancel-circle2 mr-2"></i> {{ form.password1.errors.as_text }}</span>
                    {% endif %}
                    {{ form.password1.help_text }}
                </div>

                <div class="form-group form-group-feedback form-group-feedback-left">
                    {{ form.password2 }}
                    <div class="form-control-feedback">
                        <i class="icon-user-lock text-muted"></i>
                    </div>
                    {% if form.password2.errors %}
                        <span class="form-text text-danger"><i class="icon-cancel-circle2 mr-2"></i> {{ form.password2.errors.as_text }}</span>
                    {% endif %}
                </div>
            </form>
        </div>
    </div>
{% endblock %}